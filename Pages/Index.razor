@page "/"
@using System.IO
@using System.Threading.Tasks
@using Microsoft.AspNetCore.Components.Forms
<RadzenMenu>
    <RadzenMenuItem Click="OnHomeClicked" Text="General" Icon="home"></RadzenMenuItem>
    <RadzenMenuItem Click="OnSettingsClicked" Text="Settings" Icon="line_style"></RadzenMenuItem>
</RadzenMenu>
@if (HomeVisible)
{
    <RadzenTextArea @bind-Value=@ATaleofTwoCitiesRaw Cols="50" Rows="10" />
}
@if (SettingsVisible)
{
    <Settings></Settings>
}
@code {
    private string ATaleofTwoCitiesRaw = "";
    bool HomeVisible = true;
    bool SettingsVisible = false;

    protected override async Task OnInitializedAsync()
    {
        using var stream = await FileSystem.OpenAppPackageFileAsync("ATaleofTwoCities.txt");
        using var reader = new StreamReader(stream);

        ATaleofTwoCitiesRaw = reader.ReadToEnd();
    }

    void OnHomeClicked(MenuItemEventArgs args)
    {
        HomeVisible = true;
        SettingsVisible = false;
    }

    void OnSettingsClicked(MenuItemEventArgs args)
    {
        HomeVisible = false;
        SettingsVisible = true;
    }
}